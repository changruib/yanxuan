(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30510ada"],{2532:function(t,e,r){"use strict";var s=r("23e7"),i=r("e330"),n=r("5a34"),o=r("1d80"),a=r("577e"),c=r("ab13"),u=i("".indexOf);s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(o(this)),a(n(t)),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("div",{staticClass:"searchIpt"},[r("i",{staticClass:"iconfont"},[t._v("")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入商品名称"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value.trim())},t.onInput],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnterUp.apply(null,arguments)},blur:function(e){return t.$forceUpdate()}}}),r("i",{staticClass:"iconfont",on:{click:t.close}},[t._v("")])]),r("span",{on:{click:t.cancel}},[t._v("取消")])]),r("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowSuggest,expression:"isShowSuggest"}],staticClass:"suggest"},t._l(t.suggestList,(function(e,s){return r("li",{key:s,on:{click:function(r){return t.select(e)}}},[t._v(t._s(e))])})),0),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowResult&&!t.isShowSuggest,expression:"!isShowResult && !isShowSuggest"}],staticClass:"search-history"},[r("div",{staticClass:"history-title"},[r("span",[t._v("历史记录")]),r("i",{staticClass:"iconfont",on:{click:t.delHistory}},[t._v("")])]),r("ul",{staticClass:"history"},t._l(t.history,(function(e,s){return r("li",{key:s,staticClass:"history-item",on:{click:function(r){return t.select(e)}}},[t._v(t._s(e))])})),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowResult,expression:"isShowResult"}],staticClass:"result"},t._l(t.resultList,(function(t){return r("Product",{key:t.id,attrs:{item:t}})})),1)])},i=[],n=r("1da1"),o=(r("caad"),r("2532"),r("a434"),r("e9c4"),r("96cf"),r("362e")),a=r("be6f"),c={data:function(){return{keyword:"",suggestList:[],resultList:[],history:[]}},computed:{isShowSuggest:function(){return this.suggestList.length},isShowResult:function(){return this.resultList.length}},components:{Product:a["a"]},methods:{onInput:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setTimeout(Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post(o["r"],{keywordPrefix:t.keyword});case 2:r=e.sent,t.suggestList=r;case 4:case"end":return e.stop()}}),e)}))),200)},onEnterUp:function(){this.getSearchResult(this.keyword)},getSearchResult:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!==t){r.next=2;break}return r.abrupt("return");case 2:return e.$showLoading(!0),e.suggestList=[],r.next=6,e.$axios.get(o["q"],{params:{keyword:t}});case 6:s=r.sent,i=s.directlyList,e.$showLoading(!1),e.resultList=i||[],e.saveHistory(t);case 11:case"end":return r.stop()}}),r)})))()},select:function(t){this.keyword=t,this.getSearchResult(this.keyword)},close:function(){this.keyword="",this.suggestList=[],this.resultList=[]},cancel:function(){this.$router.back()},loadHistory:function(){this.history=JSON.parse(localStorage.getItem("searchHistory"))||[]},saveHistory:function(t){this.history.includes(t)&&this.history.splice(this.history.indexOf(t),1),this.history.unshift(t),localStorage.setItem("searchHistory",JSON.stringify(this.history))},delHistory:function(){localStorage.removeItem("searchHistory"),this.history=[]}},mounted:function(){this.loadHistory()}},u=c,l=(r("96ee"),r("2877")),h=Object(l["a"])(u,s,i,!1,null,"0699a06e",null);e["default"]=h.exports},"44e7":function(t,e,r){var s=r("861d"),i=r("c6b6"),n=r("b622"),o=n("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,r){var s=r("da84"),i=r("44e7"),n=s.TypeError;t.exports=function(t){if(i(t))throw n("The method doesn't accept regular expressions");return t}},"64c3":function(t,e,r){},"96ee":function(t,e,r){"use strict";r("64c3")},a434:function(t,e,r){"use strict";var s=r("23e7"),i=r("da84"),n=r("23cb"),o=r("5926"),a=r("07fa"),c=r("7b0b"),u=r("65f0"),l=r("8418"),h=r("1dde"),d=h("splice"),f=i.TypeError,g=Math.max,p=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,s,i,h,d,w,m=c(this),k=a(m),S=n(t,k),x=arguments.length;if(0===x?r=s=0:1===x?(r=0,s=k-S):(r=x-2,s=p(g(o(e),0),k-S)),k+r-s>y)throw f(v);for(i=u(m,s),h=0;h<s;h++)d=S+h,d in m&&l(i,h,m[d]);if(i.length=s,r<s){for(h=S;h<k-s;h++)d=h+s,w=h+r,d in m?m[w]=m[d]:delete m[w];for(h=k;h>k-s+r;h--)delete m[h-1]}else if(r>s)for(h=k-s;h>S;h--)d=h+s-1,w=h+r-1,d in m?m[w]=m[d]:delete m[w];for(h=0;h<r;h++)m[h+S]=arguments[h+2];return m.length=k-s+r,i}})},ab13:function(t,e,r){var s=r("b622"),i=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,"/./"[t](e)}catch(s){}}return!1}},caad:function(t,e,r){"use strict";var s=r("23e7"),i=r("4d64").includes,n=r("44d2");s({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},e9c4:function(t,e,r){var s=r("23e7"),i=r("da84"),n=r("d066"),o=r("2ba4"),a=r("e330"),c=r("d039"),u=i.Array,l=n("JSON","stringify"),h=a(/./.exec),d=a("".charAt),f=a("".charCodeAt),g=a("".replace),p=a(1..toString),y=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,m=function(t,e,r){var s=d(r,e-1),i=d(r,e+1);return h(v,t)&&!h(w,i)||h(w,t)&&!h(v,s)?"\\u"+p(f(t,0),16):t},k=c((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&s({target:"JSON",stat:!0,forced:k},{stringify:function(t,e,r){for(var s=0,i=arguments.length,n=u(i);s<i;s++)n[s]=arguments[s];var a=o(l,null,n);return"string"==typeof a?g(a,y,m):a}})}}]);
//# sourceMappingURL=chunk-30510ada.e106799d.js.map